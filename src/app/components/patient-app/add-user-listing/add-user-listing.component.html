<div class="custom-report checklist">
    <div class="report-forms-wrapper">
        <div class="appoinment-wrapper">
            <h4 class="head">
                Sub User List
            </h4>
        </div>
        <div class="row">
            <div class="col-lg-12">
                <button type="button" class="btn btn-continue" (click)="activeInactive('Active')">
                    Active
                </button>
                <button type="button" class="btn btn-continue" (click)="activeInactive('Inactive')">
                    Inactive
                </button>
                <button type="button" class="btn btn-continue" (click)="getSubUserList()" *ngIf="childList">
                    Back
                </button>
            </div>
        </div>
        <div class="table-responsive custom-table">
            <table class="table">
                <thead>
                    <tr class="d-flex">
                        <th>
                            <input type="checkbox" id="selectAll" [ngModel]="isSelectedAll" (click)="selectAll()">
                        </th>
                        <th class="col-2" [appSort]="checklist" data-order="desc" data-name="username">Name<img src="/assets/sort.png" class="icon"/></th>
                        <th class="col-2" [appSort]="checklist" data-order="desc" data-name="email">Email<img src="/assets/sort.png" class="icon" /></th>
                        <th class="col-2" [appSort]="checklist" data-order="desc" data-name="mobile">Contact<img src="/assets/sort.png" class="icon" /></th>
                        <th class="col-2" [appSort]="checklist" data-order="desc" data-name="roles">Roles<img src="/assets/sort.png" class="icon" /></th>
                        <th class="col-2" [appSort]="checklist" data-order="desc" data-name="address">Address<img src="/assets/sort.png" class="icon" /></th>
                        <th class="col-1" [appSort]="checklist" data-order="desc" data-name="status">Status<img src="/assets/sort.png" class="icon" /></th>
                        <th class="col-1"></th>
                    </tr>
                </thead>
                <tbody>
                    <ng-container>
                        <tr class="d-flex" *ngFor="let user of checklist | paginate: config; let i = index"
                            #pageRow [attr.data-index]="user.index">
                            <td>
                                <input type="checkbox" [(ngModel)]="user.checked">
                            </td>
                            <td class="col-2">
                               {{user.username}}
                            </td>
                            <td class="col-2">{{user.email}}</td>
                            <td class="col-2">{{user.mobile}}</td>
                            <td class="col-2">{{user.roles}}</td>
                            <td class="col-2">{{user.address}}</td>
                            <td class="col-1">{{user.status ? 'Active' : 'Inactive'}}</td>
                            <td class="col-1"><button type="button" class="btn btn-continue" *ngIf="user.isParent" (click)="showSubUsers(user.id)">View</button></td>
                        </tr>
                    </ng-container>

                </tbody>
            </table>
        </div>
        <div class="row mt-top">
            <div class="col-12">
                <!-- Pagination -->
                <pagination-controls class="pagination justify-content-center"  (pageChange)="pageChange($event)" *ngIf="checklist.length>0"></pagination-controls>
            </div>
        </div>
        <app-loading *ngIf="loading"></app-loading>

    </div>
</div>
